#!/bin/bash

# Default temperature values
ON_TEMP=4000
OFF_TEMP=6500

# Check if redshift is currently running
if pgrep -x redshift >/dev/null; then
  # Redshift is running (nightlight is ON), turn it off
  pkill -x redshift
  notify-send "   Daylight screen temperature" -t 2000
else
  # Redshift is not running (nightlight is OFF), turn it on
  redshift -O $ON_TEMP >/dev/null 2>&1 &
  notify-send "  Nightlight screen temperature" -t 2000
fi

# Restart polybar in case user has polybar module for redshift
if grep -q "redshift\|nightlight" ~/.config/polybar/config.ini 2>/dev/null; then
  omarchy-restart-polybar
fi